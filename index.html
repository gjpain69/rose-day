<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Rose Day ğŸŒ¹</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  text-align:center;
  background:linear-gradient(135deg,#ff4d6d,#ff8fa3,#ffc2d1);
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
}

.container{
  width:100%;
  max-width:420px;
  padding:20px;
}

footer{
  position:fixed;
  bottom:6px;
  width:100%;
  font-size:13px;
  opacity:0.9;
}

/* Floating hearts */
.heart{
  position:fixed;
  bottom:-20px;
  font-size:18px;
  animation:float 6s linear infinite;
}
@keyframes float{
  from{transform:translateY(0);}
  to{transform:translateY(-110vh);}
}

input{
  width:80%;
  padding:12px;
  border-radius:10px;
  border:none;
  font-size:16px;
}

button{
  padding:12px 20px;
  border:none;
  border-radius:25px;
  font-size:16px;
  margin:8px;
  cursor:pointer;
}

.mainBtn{background:white;color:#ff4d6d;font-weight:bold;}

#rose{
  font-size:55px;
  margin:15px;
  cursor:pointer;
  position:relative;
}

.progress{
  width:90%;
  height:12px;
  background:rgba(255,255,255,0.3);
  border-radius:20px;
  margin:auto;
}
.bar{
  height:100%;
  width:0%;
  background:white;
  border-radius:20px;
}

#no{
  position:fixed;
  background:black;
  color:white;
}

#game,#final{display:none;}
a{color:white;word-break:break-all;}
</style>
</head>

<body>

<div class="container">

<h2>ğŸŒ¹ Happy Rose Day ğŸŒ¹</h2>

<!-- LINK GENERATOR -->
<div id="generator">
  <p>Enter your Girlfriend Name ğŸ’–</p>
  <input type="text" id="nameInput" placeholder="Type name">
  <br>
  <button class="mainBtn" onclick="generateLink()">Generate Link ğŸ”—</button>
  <p id="linkBox"></p>
</div>

<!-- GAME -->
<div id="game">
  <h3 id="showName"></h3>
  <p>Tap rose to fill love meter ğŸ’•</p>

  <div id="rose" onclick="scorePoint()">ğŸŒ¹</div>

  <div class="progress">
    <div class="bar" id="bar"></div>
  </div>

  <h4 id="scoreText">Love Meter: 0%</h4>

  <div id="proposal" style="display:none;">
    <h3>ğŸ’– Will you be my Valentine? ğŸ’–</h3>
    <button class="mainBtn" onclick="yesClick()">Yes ğŸ˜</button>
    <button id="no" ontouchstart="moveNo()" onmouseover="moveNo()">No ğŸ˜œ</button>
  </div>
</div>

<!-- FINAL -->
<div id="final">
  <h2>ğŸ’– Happy Rose Day My Love ğŸŒ¹</h2>
  <p>You made my life beautiful ğŸ’•</p>
</div>

</div>

<footer>âœ¨ Site made by <b>Vihaan</b> ğŸ’–</footer>

<script>
/* Floating hearts */
setInterval(()=>{
  let heart=document.createElement("div");
  heart.innerHTML="ğŸ’–";
  heart.className="heart";
  heart.style.left=Math.random()*100+"vw";
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),6000);
},500);

let score=0;

/* READ NAME FROM LINK */
const params=new URLSearchParams(window.location.search);
const gfName=params.get("name");

if(gfName){
  document.getElementById("generator").style.display="none";
  document.getElementById("game").style.display="block";
  document.getElementById("showName").innerHTML="For: "+gfName+" ğŸ’–";
}

/* GENERATE LINK */
function generateLink(){
  let name=document.getElementById("nameInput").value.trim();
  if(name===""){
    alert("Enter name first");
    return;
  }

  let baseURL = window.location.href.split("?")[0];
  let link = baseURL + "?name=" + encodeURIComponent(name);

  document.getElementById("linkBox").innerHTML =
    "<b>Send this link ğŸ’Œ:</b><br>" +
    "<a href='"+link+"' target='_blank'>"+link+"</a><br><br>" +
    "<button onclick='copyLink(\""+link+"\")'>Copy Link ğŸ“‹</button>";
}

/* COPY LINK */
function copyLink(link){
  navigator.clipboard.writeText(link);
  alert("Link copied ğŸ‘");
}

/* GAME */
function scorePoint(){
  score+=10;
  if(score>100) score=100;
  document.getElementById("bar").style.width=score+"%";
  document.getElementById("scoreText").innerHTML="Love Meter: "+score+"%";

  let rose=document.getElementById("rose");
  let maxX=window.innerWidth-80;
  let maxY=window.innerHeight-200;
  rose.style.position="fixed";
  rose.style.left=Math.random()*maxX+"px";
  rose.style.top=Math.random()*maxY+"px";

  if(score>=100){
    document.getElementById("proposal").style.display="block";
  }
}

function yesClick(){
  document.getElementById("game").style.display="none";
  document.getElementById("final").style.display="block";
}

function moveNo(){
  let btn=document.getElementById("no");
  let maxX=window.innerWidth-100;
  let maxY=window.innerHeight-60;
  btn.style.left=Math.random()*maxX+"px";
  btn.style.top=Math.random()*maxY+"px";
}
</script>

</body>
</html>
